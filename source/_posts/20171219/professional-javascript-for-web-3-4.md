---
layout: blog
title: JavaScript高级程序设计第三版（读后感）（第四篇）
date: 2017-12-19 20:17:11
categories: professional_javascript_for_web_develop_3rd
tags: JavaScript-web-develop-3rd
---

# JavaScript高级程序设计第三版（读后感）（第四篇）
> 看了上一章节后是不是发现都 `JavaScript` 什么操作符？运算符？如果有其他程序语言基础那还好理解。如果不是，那就有点麻烦了。其实这就好比学数学，先学一堆没啥用的公式，然后再用于实际。那上一章节就是学一些公式。那接下来这一节还是学习公式吧。

## 变量作用域
在所有函数之外声明的变量，叫做 `全局变量` ，因为它可被当前文档中的任何其他代码所访问。   
在函数内部声明的变量，叫做 `局部变量` ，因为它只能在该函数内部访问。  

在书中提到的是 `ES6` 以前的语法。所以没有 `语句块` 这一说法。但是在 `ES6` 就会发现作用域开始有了明显的区分。例如：
```JavaScript
// ES5
if (1)
{
	var a = 1;
}
console.log(a); // 1;
// =========
// ES6 
if (1)
{
	let b = 1;
}
console.log(b); // ReferenceError: b is not defined;
```
通过这两个例子就能区分了。`var` 对全文的作用域都有效，但 let 对语句块有明显一个作用域的限制，作用域范围只能在语句块（花括号）内。

## 变量类型
> 一般程序语言都会涉及到到内存，因为程序都运行在内存中，但在内存中有分栈堆区，书中也提到了比较详细解释。

ECMAScript 变量可能包含两种不同的数据类型的值： **基本数据类型** 和 **引用数据类型** 
- 基本类型：简单的数据值。`undefined`、`Null` 、`Boolean` 、`Number` 、`String` 、 `symbol(new)`
- 引用类型：那些复合数据类型的对象。 `Object (Array，Date，RegExp，Function，...)` 

> 前方高能，非战斗名族请跳过这段。

### 基本数据类型
> 借用书中描述

```JavaScript
var num1 = 5;
var num2 = num1;
```
这个翻译成图解就是：  
![base.png](base.png)

### 引用数据类型
> 借用书中描述

```JavaScript
var obj1 = new Object();
var obj2 = obj1;
obj1.name = "Nicholas";
alert(obj2.name); // "Nicholas"
```
这个翻译成图解就是：  
![object.png](object.png)

## 执行环境
笔者能力实在有限，还是先看看书中写的吧。笔者实在没能理解这段话。若有机会等我理解了再回来补补吧。

## 作用域
> 书中对没有块级作用域的基本概念和使用都解释的很明确。现在 JavaScript 也新增了一个块作用域的作用。是的这个概念有所颠覆。  

在所有函数之外声明的变量，叫做全局变量，因为它可被当前文档中的任何其他代码所访问。在函数内部声明的变量，叫做局部变量，因为它只能在该函数内部访问。  

`ECMAScript 6` 之前的 `JavaScript` 没有 `语句块` 作用域；相反，语句块中声明的变量将成为语句块所在代码段的局部变量。例如，如下的代码将在控制台输出 `5`，因为 `x` 的作用域是声明了 `x` 的那个函数（或全局范围），而不是 `if` 语句块。
```JavaScript
if (true) {
  var x = 5;
}
console.log(x); // 5
```
如果使用 `ECMAScript 6` 中的 `let` 声明，上述行为将发生变化。
```JavaScript
if (true) {
  let y = 5;
}
console.log(y); // ReferenceError: y is not defined
```
> 这个新增的变量声明 `let` ， 也使得变量的作用域有一定的区别。

## 垃圾收集
书中描述的很详细了。引用书中的描述：   
 `JavaScript` 具有自动垃圾回收机制，也就是说，执行环境会赋值管理代码执行过程中使用内存。而在`C` `C++` 之类的语言中，开发人员的一项基本人任务就是手工跟踪内存的使用情况，这是造成许多问题的一个根源。在编写 `JavaScript` 程序时，开发人员不用再关心内存的使用问题，所需要的内存的分配以及无用内存的回收完全实现了自动管理。


## 补充
[语法基础和数据类型]()


# 读后感
笔者惭愧，未能读懂执行环境的作用及其意义，笔者后续学习下。这小节的重点就是搞明白数据类型的值问题。变量的作用域的问题。  
通过这本书引导，慢慢的开始接触到一个程序语言在实际应用中的语法基础和深入理解。
